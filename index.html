<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Cache-Control" content="no-cache">
  <title>Task-Kin</title>
  <script type="text/javascript" src="lib/jquery.js"></script>
  <script type="text/javascript" src="lib/jquery-ui.js"  defer="defer"></script>
  <script type="text/javascript" src="lib/knockout.js"></script>
  <script type="text/javascript" src="lib/knockout-sortable.js" defer="defer"></script>
  <script type="text/javascript" src="lib/jquery.ui.touch-punch.js" defer="defer"></script>
  <script type="text/javascript" src="script.js" defer="defer"></script>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>
<div id="main" class="task_wrapper">
  <!-- Tasks -->
  <h3>Tasks</h3>
  <div class="task_box">
        <div id="cursor"
             data-bind="
             draggable:
                 { data:cursor
                 , options:{
                       axis  :'y'
                     , grid : [0,18]
                     , helper : 'original'
                     , stop : $root.cursorStopped
                     , containment : 'parent'
                    }
                 }
            ,style:{
                     top : cursor().cursor_y
                    ,left: cursor().cursor_x}
            ">
        </div>

        <div class="task_container task_draggable" data-bind="sortable: {data:tasks,  connectClass:'task_draggable'}">
            <div class="item" span data-bind="click: $root.selectedTask">
                <span data-bind="visible: !$root.isTaskSelected($data)">
                    <span data-bind="text: name"></span>
                </span>
                <span data-bind="visibleAndSelect: $root.isTaskSelected($data)">
                    <input data-bind="value: name, event: { blur: $root.clearTask}" />
                </span>
            </div>
        </div>
  </div>
  <p class="right">
    <a href="#">+Add Task</a>
  </p>
</div>


<div class="menu">
    <!-- Add Task -->
    <h4>Add</h4>
    <div class="item" data-bind="draggable: { data: newTask}">
        <span data-bind="text: name"></span>
    </div>
</div>

<!-- Trash -->
<div class="trash_wrapper menu" >
    <h4>Delete</h4>
    <div class="trash task_draggable" data-bind="sortable: {data:trash, afterMove:removeAll}"></div>
    <div class="trash_message">Drop&nbsp;Here</div>
</div>

    <!-- Buttons -->
    <button data-bind="click: sortTasks">sort</button>  

</body>
</html>

